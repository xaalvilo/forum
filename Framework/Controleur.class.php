<?phpnamespace Framework;require_once './Framework/autoload.php';/***  la classe Abstraite Controleur permet de dÃ©finir tous les services communs aux classes controleurs */abstract class Controleur extends ApplicationComponent{    /**  action ˆ raliser par le controleur */    private $_action;         /** requte entrante (utilisable par les classes drives) */    protected $requete;    /**    * cette mÃ©thode dÃ©finit la requÃªte entrante    *    * @param Requete $requete RequÃªte entrante    */     public function setRequete(Requete $requete)     {         $this->requete=$requete;     }         /**    * cette mthode execute l'action ˆ raliser si la mthode existe bien dans l'objet controleur associ ˆ cette action     * sinon envoie une exception (utilisation du concept de rflexion par emploi des methode metho_exists() et get_class()    *    * @trows Exception si l'action n'existe pas dans la classe controleur courante    */     public function executerAction($action)     {         if (method_exists($this,$action))        {            $this->_action = $action;            // appelle de la mÃ©thode portant le mÃªme nom que l'action sur l'objet ContrÃ´leur courant            $this->{$this->_action}();        }        else        {            //rÃ©cupÃ¨re la classe du Controleur correspondant Ã  la mÃ©thode ayant pour nom l'action Ã  rÃ©aliser            $classeControleur = get_class($this);            throw new \Exception ("Action '$action' non dÃ©finie dans la classeControleur");         }                 }        /**    * cette mÃ©thode est abstraite, et oblige les classes dÃ©rivÃ©es Ã  implÃ©menter la mÃ©thode correspondant Ã  l'index par dÃ©faut (quand le parametre action     * n'est pas dÃ©fini dans la requete)    */    public abstract function index();          /**    * cette mÃ©thode entraine la generation de la vue associÃ©e au controleur courant     *    * @param array $donneesVue DonnÃ©es nÃ©cessaires pour la gÃ©nÃ©ration de la vue    */    protected function genererVue($donneesVue=array())    {        //dÃ©termination du  nom du fichier Vue Ã  partir du nom du controleur actuel        $classeControleur = get_class($this);                      // suppression de la chaÃ®ne de caractÃ¨re "Controleur\Controleur"  dans le nom de la classe        $controleur = str_replace("Controleur\\Controleur","",$classeControleur);                // generer la vue associÃ©e         $vue = new Vue($this->_action,$controleur);        $vue->generer($donneesVue);    }      }