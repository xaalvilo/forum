<?phpnamespace Framework ;require_once './Framework/autoload.php';/** * Classe abstraite fournissant les fonctionnalites nÃ©cessaires Ã  toute entitÃ© * du modÃ¨le. Elle implŽmente notamment l'interface PHP ArrayAccess qui permet d'afficher les attributs de l'objets en* le parcourant comme s'il s'agissait d'un tableau*/abstract class Entite implements \ArrayAccess{    /**    * identifiant de l'entitÃ© dans la BDD    */    protected $id;        /**    *    */    protected $erreurs = array();    /**    * constructeur qui hydratera l'objet si un tableau de valeurs lui est fourni    */    public function __construct (array $donnees = array())    {        // si on a spŽcifiŽ des valeurs, on hydrate l'objet    	if (!empty($donnees))        {           $this->hydrate($donnees);                  }    }        /**    * mÃ©thode prÃ©cisant si l'entitÃ© est nouvelle ou non    *    * @return Boolean TRUE si l'entitÃ© est nouvelle    */    public function isNew()    {        return empty($this->id);    }        /**    * setter de l'attribut "id" comme Integer    */    public function setId($id)    {        $this->id = (int) $id ;    }        /**     * getter de l'attribut "id"     *     * @return int id     */    public function id()    {    	return $this->id;    }        /**    * getter de l'attribut "erreurs"    *    * @return array erreurs    */    public function erreurs()    {        return $this->erreurs;    }        /**    * fonction d'hydratation de l'objet reprÃ©sentant une donnÃ©e stockÃ©e    * avec les valeurs du tableau en paramÃ¨tre    *    * @param array $donnees tableau des valeurs des attributs    */    public function hydrate(array $donnees)    {        foreach ($donnees as $attribut=>$valeur)        {            // dÃ©finition du setter pour chaque attribut             // utilisation de "ucfirst()" pour remplacer le premier caractÃ¨re par sa majuscule,             // si le premier caractÃ¨re est alphabÃ©tique            $methode = 'set'.ucfirst($attribut);                        // si le setter existe bien, on appelle le setter            // on utilise "is_callable()" qui vÃ©rifie qu'une variable peut Ãªtre appelÃ©e comme fonction.             // Cette fonction peut vÃ©rifier qu'une variable contient un nom de fonction valide,             // ou bien qu'elle contient un tableau, avec un objet et un nom de mÃ©thode.             if (is_callable($this, $methode))            {                $this->$methode($valeur);                       }        }    }        /**      * MŽthodes de l'interface ArrayAccess     *      */    public function offsetGet($var)    {    	if (isset($this->$var) && is_callable(array($this, $var)))    	{    		return $this->$var();    	}    }        public function offsetSet($var, $value)    {    	$method = 'set'.ucfirst($var);    	if (isset($this->$var) && is_callable(array($this, $method)))    	{    		$this->$method($value);    	}    }        public function offsetExists($var)    {    	return isset($this->$var) && is_callable(array($this, $var));    }        public function offsetUnset($var)    {    	throw new \Exception('Impossible de supprimer une quelconque valeur');    }}            